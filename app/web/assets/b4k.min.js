/*! b4k-js v1.0.0-beta.10 | @bakugo */
!function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return i="1.0.0-beta.10",(c=a||null)?(d=b||c,c.jQuery?(g=c.jQuery,h=g,f=c.document,c.b4k?void console.error("b4k already defined"):(e={},c.b4k=e,j="undefined"!=typeof GM_info,k=function(){if("Microsoft Internet Explorer"==navigator.appName)return"internet_explorer";if("Mozilla"==navigator.appCodeName&&"Netscape"==navigator.appName){if(-1!==navigator.userAgent.indexOf("Chrome")&&"Google Inc."==navigator.vendor)return"chrome";if(-1!==navigator.userAgent.indexOf("Firefox"))return"firefox";if(-1!==navigator.userAgent.indexOf(".NET")&&!navigator.vendor)return"internet_explorer"}return!1}(),l=function(){var a,b=[];a=navigator.userAgent||navigator.vendor||c.opera,b[0]=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a),b[1]=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4));for(var d=0;d<b.length;d++)if(b[d])return!0;return!1}(),function(){m={x:0,y:0},h(f).on("mousemove",function(a){m.x=a.clientX||a.pageX||0,m.y=a.clientY||a.pageY||0})}(),function(){n={width:c.innerWidth,height:c.innerHeight},h(c).on("resize",function(){n.width=c.innerWidth,n.height=c.innerHeight})}(),o={fourchanBoards:{boards:[{board:"3",title:"3DCG",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"a",title:"Anime & Manga",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:500,image_limit:250,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},spoilers:1,custom_spoilers:1},{board:"adv",title:"Advice",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"an",title:"Animals & Nature",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"asp",title:"Alternative Sports",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"b",title:"Random",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30},user_ids:1},{board:"biz",title:"Business & Finance",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},user_ids:1},{board:"c",title:"Anime/Cute",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"cgl",title:"Cosplay & EGL",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"ck",title:"Food & Cooking",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"cm",title:"Cute/Male",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"co",title:"Comics & Cartoons",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:500,image_limit:250,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:30},spoilers:1,custom_spoilers:5},{board:"d",title:"Hentai/Alternative",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"diy",title:"Do-It-Yourself",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"e",title:"Ecchi",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"f",title:"Flash",ws_board:0,per_page:30,pages:1},{board:"fa",title:"Fashion",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"fit",title:"Fitness",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"g",title:"Technology",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},code_tags:1},{board:"gd",title:"Graphic Design",ws_board:1,per_page:15,pages:10,max_filesize:8388608,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"gif",title:"Adult GIF",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"h",title:"Hentai",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"hc",title:"Hardcore",ws_board:0,per_page:15,pages:10,max_filesize:8388608,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"hm",title:"Handsome Men",ws_board:0,per_page:15,pages:10,max_filesize:8388608,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"hr",title:"High Resolution",ws_board:0,per_page:15,pages:10,max_filesize:8388608,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30},preupload_captcha:1},{board:"i",title:"Oekaki",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"ic",title:"Artwork/Critique",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"int",title:"International",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},country_flags:1},{board:"jp",title:"Otaku Culture",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:300,cooldowns:{threads:3600,replies:30,images:60,replies_intra:60,images_intra:60},spoilers:1,custom_spoilers:1},{board:"k",title:"Weapons",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"lgbt",title:"LGBT",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"lit",title:"Literature",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:3e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},spoilers:1,custom_spoilers:1},{board:"m",title:"Mecha",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},spoilers:1,custom_spoilers:4},{board:"mlp",title:"Pony",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:500,image_limit:250,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},spoilers:1,custom_spoilers:1},{board:"mu",title:"Music",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"n",title:"Transportation",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"o",title:"Auto",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"out",title:"Outdoors",ws_board:1,per_page:15,pages:10,max_filesize:5242880,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"p",title:"Photography",ws_board:1,per_page:15,pages:10,max_filesize:5242880,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"po",title:"Papercraft & Origami",ws_board:1,per_page:15,pages:10,max_filesize:8388608,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"pol",title:"Politically Incorrect",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30},troll_flags:1},{board:"r",title:"Request",ws_board:0,per_page:15,pages:10,max_filesize:8388608,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"r9k",title:"ROBOT9001",ws_board:0,per_page:15,pages:10,max_filesize:2097152,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:500,image_limit:150,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30},spoilers:1},{board:"s",title:"Sexy Beautiful Women",ws_board:0,per_page:15,pages:10,max_filesize:8388608,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"s4s",title:"Shit 4chan Says",ws_board:0,per_page:15,pages:10,max_filesize:2097152,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:300,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"sci",title:"Science & Math",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},math_tags:1},{board:"soc",title:"Cams & Meetups",ws_board:0,per_page:15,pages:10,max_filesize:5242880,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:500,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30},user_ids:1},{board:"sp",title:"Sports",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:500,image_limit:250,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},country_flags:1},{board:"t",title:"Torrents",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"tg",title:"Traditional Games",ws_board:1,per_page:15,pages:10,max_filesize:8388608,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},spoilers:1,custom_spoilers:2},{board:"toy",title:"Toys",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"trv",title:"Travel",ws_board:1,per_page:15,pages:10,max_filesize:8388608,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"tv",title:"Television & Film",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},spoilers:1,custom_spoilers:5},{board:"u",title:"Yuri",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30},spoilers:1},{board:"v",title:"Video Games",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:500,image_limit:250,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},spoilers:1,custom_spoilers:1},{board:"vg",title:"Video Game Generals",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:750,image_limit:250,cooldowns:{threads:600,replies:30,images:60,replies_intra:90,images_intra:120},spoilers:1,custom_spoilers:1},{board:"vp",title:"Pokémon",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},spoilers:1,custom_spoilers:1},{board:"vr",title:"Retro Games",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:500,image_limit:250,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60},spoilers:1,custom_spoilers:2},{board:"w",title:"Anime/Wallpapers",ws_board:1,per_page:15,pages:10,max_filesize:6291456,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"wg",title:"Wallpapers/General",ws_board:0,per_page:15,pages:10,max_filesize:6291456,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}},{board:"wsg",title:"Worksafe GIF",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"x",title:"Paranormal",ws_board:1,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:150,cooldowns:{threads:600,replies:30,images:60,replies_intra:60,images_intra:60}},{board:"y",title:"Yaoi",ws_board:0,per_page:15,pages:10,max_filesize:4194304,max_webm_filesize:3145728,max_comment_chars:2e3,bump_limit:300,image_limit:250,cooldowns:{threads:600,replies:60,images:60,replies_intra:60,images_intra:30}}]}},p={version:i,isUserscript:j,browser:k,isMobile:l,mousePos:m,windowSize:n},q={HTMLToUnicode:function(a){return a=a.replace(/&nbsp;/g," "),a=a.replace(/&bull;/g,"•")},decodeHTML:function(a){var b;return b=f.createElement("span"),b.innerHTML=a,b.textContent},encodeHTML:function(a){var b;return b=f.createElement("span"),b.textContent=a,b.innerHTML},singularOrPlural:function(a,b,c){return a=parseInt(a),1==a||-1==a?b:c},dataset:function(a,b,c){var d,f;return f=e.dashesToCamelCase(b),c&&(void 0!==a.dataset?a.dataset[f]=c:a.setAttribute("data-"+b,c)),d=void 0!==a.dataset?a.dataset[f]:a.getAttribute("data-"+b)},dashesToCamelCase:function(a,b){var c,d;d="",c=a.split("-");for(var e=0;e<c.length;e++)d+=0!==e||b?c[e].charAt(0).toUpperCase()+c[e].slice(1):c[e];return d},getScrollPos:function(a,b){var d;return d=a?f.documentElement.scrollLeft||f.body.scrollLeft||0:f.documentElement.scrollTop||f.body.scrollTop||0,b&&(d=a?h(f).width()-d-h(c).innerWidth():h(f).height()-d-h(c).innerHeight()),d},scrollTo:function(a,b,d){return d&&(a=b?h(f).width()-a-h(c).innerWidth():h(f).height()-a-h(c).innerHeight()),b?(f.documentElement.scrollLeft=a,f.body.scrollLeft=a):(f.documentElement.scrollTop=a,f.body.scrollTop=a),e.getScrollPos(b,d)},stripHTMLTags:function(a){var b;return b=a.replace(/(<([^>]+)>)/gi,"")},preloadFile:function(a,b){var c;switch(b){case"image":return c=new Image,c.src=file,c;case"audio":return c=f.createElement(audio),c.preload="auto",c.src=a,c;default:return null}},includeFile:function(a,b,c){var d;if(void 0===c&&(c=e.isURLOnSameDomain(a)),c)h.ajax({url:file,dataType:"text",success:function(a){switch(b){case"js":d=f.createElement("script"),d.innerHTML=a;break;case"css":d=f.createElement("style"),d.innerHTML=a;break;default:return}f.head.appendChild(d)}});else{switch(b){case"js":d=f.createElement("script"),d.src=file;break;case"css":d=f.createElement("link"),d.rel="stylesheet",d.href=file;break;default:return}f.head.appendChild(d)}},isURLOnSameDomain:function(a){return(0===a.indexOf("//")||0===a.indexOf("http://")||0===a.indexOf("https://"))&&("api.jquery.com"!==c.location.hostname||0!==a.indexOf("//")&&a.split("//")[0]!=c.location.protocol)?!1:!0},getFilenameFromPath:function(a){var b;return b=a,b=b.split("?")[0],b=b.split("/"),b=b[b.length-1],b=b.split("\\"),b=b[b.length-1]},getExtensionFromPath:function(a){var b;return b=a,b=e.getFilenameFromPath(b),e.stringContains(b,".")?(b=b.split("."),b=b[b.length-1]):""},removeExtensionFromPath:function(a){var b,c,d;return b=a,b=b.substring(0,b.lastIndexOf("/")+1),c=a,c=e.getFilenameFromPath(a),e.stringContains(c,".")&&(c=c.substring(0,c.lastIndexOf("."))),d=b+c},getAllQueryFields:function(){var a,b,c,d;if(a={},b=location.search,b=b.replace("?","")){c=b.split("&");for(var e=0;e<c.length;e++)d=c[e].split("="),d[0]&&(d[0]=decodeURIComponent(d[0]),d[1]?(d[1]=decodeURIComponent(d[1]),a[d[0]]=d[1]):a[d[0]]="")}return a},getQueryField:function(a,b){var c;return c=e.getAllQueryFields(),b?void 0!==c[a]:void 0!==c[a]?c[a]:null},randomNumber:function(a,b,c){var d;return a=parseInt(a),b=parseInt(b),c&&(a+=1,b-=1),d=Math.floor(Math.random()*(b-a+1))+a},parseSecondsToTime:function(a,b,c){var d,f,g,h;return d=Math.floor(a/3600),f=Math.floor((a-3600*d)/60),g=a-3600*d-60*f,c&&(d=e.padNumberWithZero(d,2),f=e.padNumberWithZero(f,2),g=e.padNumberWithZero(g,2)),h={hours:d,minutes:f,seconds:g},b?e.format(b,h):h},padNumberWithZero:function(a,b,c){var d;for(d=a.toString();d.length<b;)c?d+="0":d="0"+d;return d},cookie:{getAll:function(){var a,b,c,d;a={},b=f.cookie,c=b.split(";");for(var e=0;e<c.length;e++)d=c[e].split("="),d[0]&&(d[0]=decodeURIComponent(d[0]),d[1]?(d[1]=decodeURIComponent(d[1]),a[d[0]]=d[1]):a[d[0]]="");return a},get:function(a){var b;return b=e.cookie.getAll(),void 0!==b[a]?b[a]:null},set:function(a,b,c){var d;if(d=encodeURIComponent(a)+"="+encodeURIComponent(b),c)for(var e in c)d+=";","secure"===e?c[e]&&(d+="secure"):d+=e+"="+c[e];f.cookie=d},clear:function(a){e.cookie.set(a,"")}},urlStatePush:function(a,b,c){"push"!=a&&"replace"!=a&&(a="push"),b=b||location.pathname,c=c||f.title,"push"==a&&history.pushState(null,c,b),"replace"==a&&history.replaceState(null,c,b)},mailTo:function(a,b,c,d){var e,g;if("string"==typeof a&&(a=f.querySelector(a)),a&&"A"===a.tagName){if("object"==typeof b)if(2===b.length)b=b[0]+"@"+b[1];else{if(3!==b.length)return;b=b[0]+"@"+b[1]+"."+b[2]}else b=b.replace(" ","@");e="mailto:"+b,c&&(e+="?"+h.param(c)),g=function(a){a.preventDefault(),location=e},a.href="#",a.title||(a.title="mailto:"+b),d&&(a.textContent=b),h(a).on("click",q)}},steamClientAction:function(a,b){var c;switch(c="steam://",a){case"rungame":c+="rungameid/"+b;break;case"connect":c+="connect/"+b;break;case"install":c+="install/"+b;break;case"store":c+="store/"+b;break;case"joingroupchat":c+="friends/joinchat/"+b;break;case"addfriend":c+="friends/add/"+b;break;default:return}location=c},reloadElementContents:function(a){a.innerHTML=a.innerHTML},navigateWithFormData:function(a,b,c){var d,e;d=f.createElement("form"),d.action=a,"multipart/form-data"==b?(d.method="post",d.enctype=b):d.method=b;for(var g in c)e=f.createElement("input"),e.type="text",e.name=g,e.value=c[g],d.appendChild(e);d.submit()},googleAnalytics:function(a,b){return c.navigator.doNotTrack?!1:(void 0===b&&(b=1),0===b&&!function(){var b,d;b=("https:"==f.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",d=c._gaq||[],c._gaq=d,d.push(["_setAccount",a]),d.push(["_trackPageview"]),e.includeFile(b,"js",!1)}(),1===b&&!function(){!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(c,f,"script","//www.google-analytics.com/analytics.js","ga"),ga("create",a,"auto"),ga("send","pageview")}(),!0)},cheatCode:function(a,b,d,g){var i,j,k;i=[],k=!1,d&&(j=f.createElement("audio"),j.preload="auto",j.src=d),a instanceof Array||(a=[a]);for(var l=0;l<a.length;l++)a[l]=e.stringReplaceAll(a[l]," ",",");h(c).on("keydown",function(c){if(!k){i.push(c.keyCode);for(var d=0;d<a.length;d++)-1!==i.toString().indexOf(a[d])&&(j&&j.play(),b(),i=[],g&&(k=!0))}})},getUnixTimestamp:function(a){var b;return b=(new Date).getTime(),a||(b/=1e3,b=Math.floor(b)),b},formatTime:function(a,b){var c,d;return a=a||e.getUnixTimestamp(),a=1e3*a,c=new Date(a),d={sec:e.padNumberWithZero(c.getSeconds(),2),min:e.padNumberWithZero(c.getMinutes(),2),hour:e.padNumberWithZero(c.getHours(),2),day:e.padNumberWithZero(c.getDate(),2),weekday:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][c.getDay()],month:e.padNumberWithZero(c.getMonth()+1,2),year_short:c.getFullYear()-2e3+"",year:c.getFullYear()+""},b?e.format(b,d):d},getFrameWindow:function(a){var b,c;try{return(b=a.contentWindow?a.contentWindow.document:a.contentDocument)?c=b.defaultView:null}catch(a){return null}},storage:{any:{get:function(a,b){var d;switch(a){case"localstorage":d=c.localStorage.getItem(b);break;case"sessionstorage":d=c.sessionStorage.getItem(b);break;case"greasemonkey":d=GM_getValue(b,null);break;default:return}if(null===d)return null;try{d=JSON.parse(d)}catch(a){return null}return d=d.a,void 0===d?null:d},set:function(a,b,d,f){var g;switch(g=e.storage.any.get(a,b),null===g||f||g instanceof Object&&d instanceof Object&&(d=h.extend(!0,g,d)),d=JSON.stringify({a:d}),a){case"localstorage":c.localStorage.setItem(b,d);break;case"sessionstorage":c.sessionStorage.setItem(b,d);break;case"greasemonkey":GM_setValue(b,d);break;default:return}},remove:function(a,b){switch(a){case"localstorage":c.localStorage.removeItem(b);break;case"sessionstorage":c.sessionStorage.removeItem(b);break;case"greasemonkey":GM_deleteValue(b);break;default:return}}},ls:{get:function(a){return e.storage.any.get("localstorage",a)},set:function(a,b){return e.storage.any.set("localstorage",a,b)},remove:function(a){return e.storage.any.remove("localstorage",a)}},ss:{get:function(a){return e.storage.any.get("sessionstorage",a)},set:function(a,b){return e.storage.any.set("sessionstorage",a,b)},remove:function(a){return e.storage.any.remove("sessionstorage",a)}},gm:{get:function(a){return e.storage.any.get("greasemonkey",a)},set:function(a,b){return e.storage.any.set("greasemonkey",a,b)},remove:function(a){return e.storage.any.remove("greasemonkey",a)}}},appendTextNode:function(a,b){b=e.HTMLToUnicode(b),a.appendChild(f.createTextNode(b))},getElementComputedSize:function(a){var b,d,e;return b=c.getComputedStyle(a).width,b=b.replace("px",""),b=Number(b),d=c.getComputedStyle(a).height,d=d.replace("px",""),d=Number(d),e={width:b,height:d}},stringContains:function(a,b,c){return c||(a=a.toLowerCase(),b=b.toLowerCase()),-1!==a.indexOf(b)?!0:!1},stringReplaceAll:function(a,b,c,d){var f;return f=new RegExp(e.regexpEscape(b),"g"+(d?"":"i")),a.replace(f,c)},format:function(a,b,c){c||(c="{s}");for(var d in b){var f;f=c.replace("s",d),a=e.stringReplaceAll(a,f,b[d])}return a},trimLeft:function(a){for(;a.charAt(0).match(/\s/);)a=a.substring(1);return a},trimRight:function(a){for(;a.charAt(a.length-1).match(/\s/);)a=a.substring(0,a.length-1);return a},arrayContains:function(a,b,c,d){var e;e=function(a,b){return typeof a!=typeof b?!1:(a instanceof String&&b instanceof String&&!d&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b)};for(var f=0;f<a.length;f++)if(e(a[f],b))return c?f:!0;return!1},arraysEqual:function(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0},dataURLToBlob:function(a){var b,c,d,e;b=a.split(",")[0].indexOf("base64")>=0?atob(a.split(",")[1]):unescape(a.split(",")[1]),c=a.split(",")[0].split(":")[1].split(";")[0],d=new ArrayBuffer(b.length),e=new Uint8Array(d);for(var f=0;f<b.length;f++)e[f]=b.charCodeAt(f);return new Blob([d],{type:c})},binaryToBase64:function(a){var b,c,d,e,f,g,h;for(b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="",d=0,e=a.length;e>d;){if(f=255&a.charCodeAt(d++),d==e){c+=b.charAt(f>>2),c+=b.charAt((3&f)<<4),c+="==";break}if(g=a.charCodeAt(d++),d==e){c+=b.charAt(f>>2),c+=b.charAt((3&f)<<4|(240&g)>>4),c+=b.charAt((15&g)<<2),c+="=";break}h=a.charCodeAt(d++),c+=b.charAt(f>>2),c+=b.charAt((3&f)<<4|(240&g)>>4),c+=b.charAt((15&g)<<2|(192&h)>>6),c+=b.charAt(63&h)}return c},base64ToDataURL:function(a,b){return"data:"+b+";charset=utf-8;base64,"+a},parseHTMLInFrame:function(a){var b,c,d;return b=f.createElement("iframe"),b.style.display="none",f.body.appendChild(b),c=e.getFrameWindow(b).document,d=h.parseHTML(a,c,!0),b.remove(),d},HTMLToDocument:function(a){var b,c;return b=f.createElement("iframe"),b.style.display="none",f.body.appendChild(b),c=e.getFrameWindow(b).document,c.body.innerHTML=a,b.remove(),c},forEach:function(a,b){for(var c,d=0;d<a.length&&(c=b(a[d]),c!==!1);d++);},numberToLocaleString:function(a){return a.toLocaleString().split(".")[0]},waitFor:function(a,b,c){var d;c=c||25,(d=function(){var e;e=a.call(),e?b.call(e,e):setTimeout(d,c)})()},stringContainsNumber:function(a){return/\d/.test(a)},shuffleArray:function(a){for(var b=a.length-1;b>0;b--){var c,d;c=Math.floor(Math.random()*(b+1)),d=a[b],a[b]=a[c],a[c]=d}return a},elementIsChildOf:function(a,b,c){var d;d=c?a.querySelectorAll("*"):a.children;for(var e=0;e<d.length;e++)if(d[e]===b)return!0;return!1},replaceElement:function(a,b){a.parentElement&&a.parentElement.replaceChild(b,a)},countOccurrences:function(a,b){var c;if(a instanceof String)return a.split(b).length-1;if(a instanceof Array){c=0;for(var d in a)a[d]===b&&c++;return c}return 0},wildcardMatch:function(a,b){var c,d;return c=b,c=e.regexpEscape(c),c=e.stringReplaceAll(c,"\\*","(.*?)"),c=e.stringReplaceAll(c,"\\?","."),c="^"+c+"$",d=new RegExp(c,"i"),d.test(a)},regexpEscape:function(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},userscript:function(a){var b=this;a=h.extend({name:"<unknown>",enableJqueryXhrWrap:!0,useGreasemonkeyStorage:!0,showLogs:!1,enableTracking:!0},a),b.script=!1,b.init=function(){return b.script!==!1?!0:"undefined"==typeof GM_info?!1:(b.script=GM_info.script,b.script.instanceName=name,a.enableJqueryXhrWrap&&b.wrapJqueryXhr(),a.enableTracking&&b.track(),!0)},b.wrapJqueryXhr=function(){var a;h&&"undefined"!=typeof GM_xmlhttpRequest&&(a=function(){this.type=null,this.url=null,this.async=null,this.username=null,this.password=null,this.status=null,this.headers={},this.readyState=null,this.responseType=null,this.onload=null,this.onerror=null,this.onreadystatechange=null,this.open=function(a,b,c,d,e){this.type=a?a:null,this.url=b?b:null,this.async=c?c:null,this.username=d?d:null,this.password=e?e:null,this.readyState=1},this.setRequestHeader=function(a,b){this.headers[a]=b},this.abort=function(){this.readyState=0},this.getResponseHeader=function(a){return this.responseHeaders[a]},this.getAllResponseHeaders=function(){return this.responseHeaders},this.send=function(a){var b=this;b.data=a,this.responseType||(this.responseType=void 0),GM_xmlhttpRequest({method:this.type,url:this.url,headers:this.headers,data:this.data,responseType:this.responseType,onload:function(a){for(var c in a)b[c]=a[c];b.onload&&b.onload()},onerror:function(a){for(var c in a)b[c]=a[c];b.onerror&&b.onerror()},onreadystatechange:function(a){for(var c in a)b[c]=a[c];b.onreadystatechange&&b.onreadystatechange()}})}},h.ajaxSetup({xhr:function(){try{return new a}catch(a){}}}))},b.config={
set:function(a,c){var d,f;a=b.config._misc.parseKey(a),d=new function(){this.i={}},f=d.i;for(var g=0;g<a.length-1;g++)f[a[g]]={},f=f[a[g]];f[a[a.length-1]]=c,e.storage.any.set(b.config._misc.getStorageType(),b.script.name,d.i,!1)},get:function(a,c){var d;if(a=b.config._misc.parseKey(a),d=e.storage.any.get(b.config._misc.getStorageType(),b.script.name),null!==d)for(var f=0;f<a.length&&(d=d[a[f]],void 0!==d);f++);return null===d||void 0===d?void 0!==c?c:null:d},_misc:{parseKey:function(a){return a instanceof Array?a:"string"==typeof a?a.split("."):[]},getStorageType:function(){return a.useGreasemonkeyStorage?"greasemonkey":"localstorage"}}},b.log=function(c){a.showLogs&&console.log("["+b.script.name+"] "+c)},b.track=function(){var a;a="http://b4k.co/userscript-tracker/submit",function(){setTimeout(function(){var c,d,f,g,i,j;c="userscriptTrackerPing",d=3600,f=60,g=b.config.get([c,"lastPingAttempt"]),i=b.config.get([c,"lastPing"]),g&&g.time&&e.getUnixTimestamp()-g<f||(j=function(){return i&&i.time?i.version===b.script.version?e.getUnixTimestamp()-i.time>d?"timed":null:"update":"install"}(),j&&(b.config.set([c,"lastPingAttempt"],{time:e.getUnixTimestamp()}),h.ajax({url:a,method:"post",data:{act:"ping",ping_type:j,script_name:b.script.name,script_namespace:b.script.namespace,script_version:b.script.version,location:location.href,browser:e.browser,"4chan_name":e.fourchan.getReplyFormName()},success:function(){b.config.set([c,"lastPing"],{version:b.script.version,time:e.getUnixTimestamp()})}})))},3e3+e.randomNumber(0,2e3))}(),function(){var b,c;b=function(b){h.ajax({url:a,method:"post",data:{act:"4chanpost",board:c.board,number:b,thread:c.isThread?c.threadNo:0,name:e.fourchan.getReplyFormName()}})},c=e.fourchan.getPageInfo(),c&&(d._pt||(d._pt=!0,d.eval('function _pnc(e) { window._pn = e.detail.postId || e.detail.postID || null; } document.addEventListener("4chanQRPostSuccess", _pnc); document.addEventListener("QRPostSuccessful", _pnc);'),h(f).on("4chanQRPostSuccess QRPostSuccessful",function(a){var c;c=a.originalEvent.postId||a.originalEvent.postID||d._pn||null,c&&b(c)})))}()},b.init()},addStyle:function(a){var b;b=f.createElement("style"),b.innerHTML=a,f.head.appendChild(b)},getDomainFromURL:function(a){var b;return b=a,e.stringContains(b,"//")&&(b=b.substring(a.indexOf("//")+2)),b=b.split("/")[0]},getPathFromURL:function(a){var b,c;return b=a,b=e.removeProtocolFromURL(b),c=b.indexOf("/"),b=-1===c?"/":b.substring(c)},getProtocolFromURL:function(a,b){var c,d;return c=a,d=a.indexOf("//"),c=-1===d?"//":c.slice(0,d+2),b&&(c=c.slice(0,-2)),c},removeProtocolFromURL:function(a){var b;return b=a,e.stringContains(b,"//")&&(b=b.substring(b.indexOf("//")+2)),b},phpNumberFormat:function(a,b,c,d){var e,f,g,h,i,j;return a=(a+"").replace(/[^0-9+\-Ee.]/g,""),j=function(a,b){var c;return c=Math.pow(10,b),""+(Math.round(a*c)/c).toFixed(b)},e=isFinite(+a)?+a:0,f=isFinite(+b)?Math.abs(b):0,g="undefined"==typeof d?",":d,h="undefined"==typeof c?".":c,i=(f?j(e,f):""+Math.round(e)).split("."),i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,g)),(i[1]||"").length<f&&(i[1]=i[1]||"",i[1]+=new Array(f-i[1].length+1).join("0")),i.join(h)},formatBytes:function(a,b){var c,d;return c=["B","KB","MB","GB","TB"],void 0===b&&(b=2),d=Math.floor((a?Math.log(a):0)/Math.log(1024)),d=Math.min(d,c.length-1),e.phpMathRound(a/Math.pow(1024,d),b)+" "+c[d]},loadScript:function(a,b){var c,d;d=function(){h.getScript(a[c],function(){return c==a.length-1?void(b&&b()):(c++,void d())})},"string"==typeof a&&(a=[a]),c=0,d()},fourchan:{boards:function(){var a={},b={};a=o.fourchanBoards;for(var c in a.boards)b[a.boards[c].board]=a.boards[c];return b}(),getPageInfo:function(){var a,b;return a={board:null,isIndex:!1,isCatalog:!1,isThread:!1,threadNo:null},f.querySelector(".boardTitle")&&(b=function(){var a,b,c,d,e;return(a=f.body.className.match(/\bboard_(.*?)\b/))?a[1]:(b=f.querySelector('form[name="post"]'),b&&(c=b.action.match(/sys\.4chan\.org\/(.*?)\/post/))?c[1]:(d=f.querySelector('form[name="delform"]'),d&&(e=d.action.match(/sys\.4chan\.org\/(.*?)\/imgboard/))?e[1]:null))}())?(a.board=b,(h(f.body).hasClass("is_index")||h(f.documentElement).hasClass("index"))&&(a.isIndex=!0),h(f.body).hasClass("is_catalog")&&(a.isCatalog=!0),a.isIndex||a.isCatalog||!h(f.documentElement).hasClass("thread-view")&&!h(f.documentElement).hasClass("thread")&&1!==f.body.querySelectorAll(".thread").length||(a.isIndex=!1,a.isCatalog=!1,a.isThread=!0,a.threadNo=e.fourchan.getPostNo(e.fourchan.getAllPosts()[0])),a):null},isPostValid:function(a,b){return!a||e.stringContains(a.className,"MP",!0)?!1:!b&&e.fourchan.isPostPreview(a)?!1:!0},isPostPreview:function(a){return h(a).hasClass("preview")||"qp"==a.parentElement.parentElement.id?!0:!1},getAllPosts:function(a,b){var c,d=[];a=a||f,c=a.getElementsByClassName("post");for(var g=0;g<c.length;g++)e.fourchan.isPostValid(c[g],b)&&d.push(c[g]);return d},isPostDeleted:function(a){var b;if(b=function(){var b;b=a.querySelectorAll(".postInfo > *");for(var c=0;c<b.length;c++)if(e.stringContains(b[c].textContent,"deleted"))return b[c];return null}()){if("[deleted]"==b.textContent.toLowerCase())return 1;if("[file deleted]"==b.textContent.toLowerCase())return 2}return a.querySelector(".postInfo .trashIcon")?1:a.querySelector(".file .fileThumb img.fileDeletedRes")?2:0},getThreadStats:function(a){var b,c,g,i;if(i={replies:0,images:0,uniqueIps:0,page:!1,bumpLimit:!1,imageLimit:!1},b=e.fourchan.getPageInfo(),!b||!b.isThread)return null;c=e.fourchan.getAllPosts();for(var j=0;j<c.length;j++){var k,l;k=c[j],h(k).hasClass("op")||(l=e.fourchan.isPostDeleted(k),(1!==l||a)&&(i.replies++,(2!==l||a)&&e.fourchan.getPostFile(k)&&i.images++))}return e.fourchan.boards[b.board]&&(i.replies>=e.fourchan.boards[b.board].bump_limit&&(i.bumpLimit=!0),i.images>=e.fourchan.boards[b.board].image_limit&&(i.imageLimit=!0)),g=f.getElementsByClassName("thread-stats")[0],g?("EM"==g.children[0].tagName&&(i.bumpLimit=!0),"EM"==g.children[1].tagName&&(i.imagelimit=!0),g.getElementsByClassName("ts-ips")[0]&&(i.uniqueIps=Number(g.getElementsByClassName("ts-ips")[0].textContent)||!1),i.page=Number(g.getElementsByClassName("ts-page")[0].textContent)||!1):(g=f.getElementById("thread-stats"),g&&(h(f.getElementById("post-count")).hasClass("warning")&&(i.bumpLimit=!0),h(f.getElementById("file-count")).hasClass("warning")&&(i.imagelimit=!0),i.uniqueIps=Number(f.getElementById("ip-count").textContent)||!1,i.page=Number(f.getElementById("page-count").textContent)||!1)),!i.uniqueIps&&d.unique_ips&&(i.uniqueIps=d.unique_ips),i},getPostFile:function(a,b,c){var d;return d=a.getElementsByClassName("file")[0],!d||e.stringContains(d.className,"imgur")&&!b||h(d.children[0].children[0]).hasClass("fileDeletedRes")&&!c?null:d},getPostOrContainer:function(a){var b;return h(a).hasClass("post")?b=a:h(a).hasClass("postContainer")&&(b=a.querySelector(".post")),b?b:null},addPostListener:function(a,b){h(f).on("DOMNodeInserted",function(c){var d,f=[];if(c.target&&(d=c.target,d.tagName)){f=[e.fourchan.getPostOrContainer(d)],f[0]&&e.fourchan.isPostValid(f[0],b)||(f=e.fourchan.getAllPosts(d,b));for(var g=0;g<f.length;g++)a(f[g])}})},addPostGroupListener:function(a,b){var c,d,f,g;c=function(a){f&&clearTimeout(f),g.push(a),f=setTimeout(d,10)},d=function(){f&&clearTimeout(f),a(g),g=[]},f=0,g=[],e.fourchan.addPostListener(c,b)},getPostNo:function(a){var b;return a&&h(a).hasClass("post")?(b=a.id,b=b.substring(1),b=Number(b),isNaN(b)?null:b):null},getPostFromInside:function(a){var b;return b=h(a).closest(".post")[0],b?b:null},getPostByNo:function(a){var b,c;return(b=f.querySelector(".board"))?(c=b.querySelector("#p"+a),c?c:null):null},getPostComment:function(a){return a.querySelector(".postMessage")||null},addButton:function(a){var b,c,d,g,i;a.destinations=h.extend({navLinks:!0,boardList:!0,fourchanXHeader:!1},a.destinations||{}),c=e.fourchan.getPageInfo(),c&&(b=function(b){b.preventDefault(),a.callback(this)},g=function(){var c,d;c=f.createElement("span"),d=f.createElement("a"),d.href="#",d.textContent=a.text,h(d).on("click",b),e.appendTextNode(c," ["),c.appendChild(d),e.appendTextNode(c,"] "),a.destinations.navLinks&&f.querySelector(".navLinks.desktop")&&(f.querySelector(".navLinks.desktop").appendChild(e.cloneElement(c)),f.querySelector(".navLinks.navLinksBot").appendChild(e.cloneElement(c))),a.destinations.boardList&&f.querySelector("#navtopright")&&(h(f.querySelector("#navtopright")).prepend(e.cloneElement(c)),h(f.querySelector("#navbotright")).prepend(e.cloneElement(c)))},i=function(){var c;switch(c=f.querySelector("#shortcuts"),d){case"seaweedchan":return void function(){var d,e,g,i;a.fontAwesomeIcon&&(d=f.createElement("span"),d.className="shortcut brackets-wrap",e=f.createElement("a"),e.href="#",e.textContent=a.text,e.title=a.text,h(e).addClass("fa fa-"+a.fontAwesomeIcon),h(e).on("click",b),d.appendChild(e),g=c.querySelector("#updater"),i=c.querySelector("#thread-stats"),g&&h(g.parentElement).hasClass("shortcut")||i&&h(i.parentElement).hasClass("shortcut")?(i&&h(d).insertAfter(i.parentElement),!i&&g&&h(d).insertAfter(g.parentElement)):h(c).prepend(d))}();case"appchanx":return void function(){var d,e;d=f.createElement("a"),d.className="shortcut",d.href="#",d.textContent="["+a.text+"]",h(d).on("click",b),h(d).css({order:"999","-webkit-order":"999"}),e=c.querySelector("#a-icons"),e.appendChild(d)}();default:return}},h(function(){g(),d=e.fourchan.checkFourchanX(),a.destinations.fourchanXHeader&&d&&(f.querySelector("#shortcuts")?i():f.addEventListener("4chanXInitFinished",function(){i()}))}))},checkFourchanX:function(){return h(f.documentElement).hasClass("fourchan-x")?h(f.documentElement).hasClass("appchan-x")?"appchanx":h(f.documentElement).hasClass("seaweedchan")?"seaweedchan":"fourchanx":null},getOriginalFilename:function(a){var b,c,d,e;return b=a.getElementsByClassName("fileText")[0],c=b.getElementsByClassName("file-info")[0],c?(d=c.getElementsByClassName("fnfull")[0],d?d.textContent:c.getElementsByTagName("a")[0].textContent):(e=b.getElementsByTagName("a")[0],e.title?e.title:e.dataset.filename?e.dataset.filename:e.textContent)},getPostScrollPos:function(a){var b,c,d;return c=e.fourchan.checkFourchanX(),b=a.offsetTop,c&&"seaweedchan"==c&&(d=f.getElementById("header-bar"),d&&h(d).hasClass("dialog")&&h(f.body.parentElement).hasClass("top-header")&&!h(d).hasClass("autohide")&&(b+=-36)),b},getReplyFormName:function(){var a;if(!e.fourchan.getPageInfo())return null;a=[f.querySelector('#qr .persona input[name="name"]'),f.querySelector('#quickReply #qrForm input[name="name"]'),f.querySelector('tr input[name="name"]')];for(var b=0;b<a.length;b++)if(a[b]&&a[b].value)return a[b].value;return null}},cloneElement:function(a,b){return void 0===b&&(b=!0),h(a).clone(b)[0]},commaSeparatedStringToArray:function(a){var b,c=[];b=a.split(",");for(var d=0;d<b.length;d++){var e=b[d];e=e.trim(),e&&c.push(e)}return c},canBrowserPlayMP3:function(){var a;return a=f.createElement("audio"),!(!a.canPlayType||!a.canPlayType("audio/mpeg"))},stringStartsWith:function(a,b){return a=String(a),b=String(b),0===a.indexOf(b)},stringEndsWith:function(a,b){return a=String(a),b=String(b),a.indexOf(b)===a.length-b.length},mathClamp:function(a,b,c){return b>a?b:a>c?c:a},mathDeadzone:function(a,b){return 0===a?0:0>a?a>=-b?0:a+b:b>=a?0:a-b},isImageLoadedAtLeastPartially:function(a){var b;return"string"==typeof a?(b=f.createElement("img"),b.src=a):b=a,0!==b.naturalWidth},selectRandomArrayItem:function(a){return!a||"object"!=typeof a||a.length<1?null:a[e.randomNumber(0,a.length-1)]},forceProtocol:function(a){return c.location.protocol!==a?(c.location.protocol=a,!0):!1},isElementInDOM:function(a){var b;for(b=a;b.parentNode;)b=b.parentNode;return b==f},detectAdblockViaElement:function(){var a,b,c;return a="ad ads ad-1 ads-1 ad-banner ads-banner adsense-ad",b=f.createElement("span"),b.className="b4k--dummy-ad "+a,b.style.position="absolute",b.style.top="0",b.style.left="0",b.style.opacity="0",b.style.pointerEvents="none",f.body.appendChild(b),c="none"==getComputedStyle(b).display,f.body.removeChild(b),c},detectAdblockViaRequest:function(a){var b;b="/ads.js",h.ajax({url:b,method:"get",dataType:"text",complete:function(b){a&&a(0===b.status)}})},polyfills:{all:function(){e.polyfills.addeventlistener(),e.polyfills.requestanimationframe(),e.polyfills.stringcontains()},addeventlistener:function(){c.addEventListener||(c.addEventListener=c.attachEvent||function(){})},requestanimationframe:function(){c.requestAnimationFrame||(c.requestAnimationFrame=c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame||c.msRequestAnimationFrame||function(a){c.setTimeout(a,1e3/60)})},stringcontains:function(){String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)})}},ready:function(a){return h(f).ready(a)},queueTask:function(a){setTimeout(a,0)},numberToOrdinal:function(a){var b;return b=["th","st","nd","rd"],a+(b[(a%100-20)%10]||b[a%100]||b[0])},phpMathRound:function(a,b){return b?(a=a.toFixed(b),a=a.toString(),a=parseFloat(a)):Math.round(a)}},h.extend(e,p),void h.extend(e,q))):void console.error("no jquery")):void console.error("no window")}("undefined"!=typeof window?window:null,"undefined"!=typeof unsafeWindow?unsafeWindow:null);